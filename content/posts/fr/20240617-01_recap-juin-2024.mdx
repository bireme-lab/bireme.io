---
title: "Récapitulatif du mois de juin 2024"
publishedAt: "2024-07-01T18:00:00"
authors:
  - "antoine-lin"
  - "frederic-godin"
tags:
  - "company"
seo:
  title: "Récapitulatif du mois de juin 2024"
  description: "TODO"
tldr: "TODO"
---

## Récapitulatif du travail effectué au cours du mois de juin 2024

### Le projet "RMS"

## Travail lié à la conception et au développement produit

### Les tâches produits accomplies durant le mois

**Focus produit du mois :** Dédale

## Travail de développement

**Focus tech du mois :** Dédale

### Les tâches tech accomplies durant le mois

- Mise en place de l'authentification sur Dédale
- Stockage des modèles d'e-mail sur le serveur
- Mise en place du déploiement continue
- Traduction de nos applications en anglais
- Amélioration de l'interface de connexion
- Creation d'un générateur de variable pour prévisualiser les modèles d'e-mails
- Possibilité d'exporter un modèle au format `HTML`
- Ajout d'un bouton pour envoyer un e-mail de test avec [Resend](https://resend.com/)

### Focus sur : notre méthode pour authentifier les utilisateurs sur nos applications

Dans notre premier [récapitulatif du mois de Mars](/blog/recap-mars-2024), nous vous présentions **Heimdall**, notre application de gestion des utilisateurs et socle commun pour nos futures applications.  
Pour rappel, les fonctionalités d'Heimdall sont :
- l'authentification des utilisateurs,
- la gestion des membres,
- la gestion des équipes,
- la gestion des souscriptions et des paramètres de facturation.

Le tout est rendu disponible :
- avec une interface graphique accessible à l'address [heimdall.bireme.io](https://heimdall.bireme.io). Elle permet aux utilisateurs de gérer facilement les membres de leurs équipes avec leurs authorisations,
- avec une API GraphQL permettant à toutes nos applications :
  - d'authentifier les requêtes des utilisateurs,
  - vérifier les fonctionalités accessible pour chaque utilisateur (en se basant sur ses souscriptions et ses droits).

#### Contrainte technique

Avec la création d'Heimdall, nous avions pour ambition de centraliser la gestion et l'authentification des utilisateurs pour obtenir les avantages suivants :
- nous n'avons qu'une seule base de code à maintenir pour gérer la connexion des utilisateurs, nous permettant de créer de nouveaux produits nécessitant une authentification plus rapidement,
- nous pouvons interconnecter nos différentes applications de façon invisible, à l'instar d'un Google qui permet d'automatiquement ajouter un événement dans Agenda quand on accepte une invitation dans Gmail.
- un seul processus d'authentification pour utiliser toutes nos applications sans avoir à se connecter à nouveau, ce qui garantie une expérience utilisateur fluide et agréable.

À partir de ce postula, plutôt que de développer une nouvelle page de connexion pour Dédale, nous avons décider de rediriger l'utilisateur vers notre plateforme d'authentification.

#### Comment notre plateforme authentifie nos utilisateurs sur nos produits

L'application Dédale est accessible à l'addresse [dedale.bireme.io](https://dedale.bireme.io).  
Lorsqu'un utilisateur souhaite créer un compte ou se connecter, il est redirigé vers `heimdall.bireme.io/signin?from_app=dedale&redirect_to=https://dedale.bireme.io`.  

- la partie `?from_app=dedale` nous permet d'afficher une page de connexion personalisée.
- et `redirect_to=https://dedale.bireme.io` permet d'automatiquement rediriger l'utilisateur vers Dédale une fois qu'il s'est connecté.

> Grâce à ces paramètres dans l'url, nous avons la possibilité de créer facilement des variantes de l'interface de connexion pour chacune de nos applications sans devoir la re-coder entièrement.

Une fois que l'utilisateur est connecté, on enregistre un cookie<sup>1</sup> contenant les informations de connexion de l'utilisateur. Ce dernier est accessible pour tous les sous-domaines `.bireme.io`.  
Par exemple, un cookie enregistré depuis `heimdall.bireme.io` est accessible depuis `dedale.bireme.io`.  
Une fois le token d'authentification enregistré, les requêtes de l'utilisateur peuvent être authentifié par nos serveurs, ce qui lui permet de récupérer ses modèles d'e-mails.


---

<sup>1</sup> : Un cookie est un petit morceau de données envoyé par un site web et sauvegardé dans le navigateur de l'utilisateur. Il permet au site de se souvenir d'informations comme les préférences de langue ou les informations de connexion.
